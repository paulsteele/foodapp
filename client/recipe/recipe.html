<template name="recipes">
	<div id="recipe_view">
		<h1>Recipes</h1>
		{{#if check_show_new_recipe}}
			{{> new_recipe}}
		{{else}}
			<div id="recipe_bar">
				<input type="button" class="button" id="sort_recipes" value="Sort">
				<input type="button" class="button" id="new_recipe" value="New">
			</div>
		{{/if}}

		{{#each recipe_list}}
      		{{> recipe_entry}}
    	{{/each}}
	</div>
</template>

<template name="new_recipe">
	<form class= "recipe_new">
	<div class="recipe_row">
		<div class="icol1r">
      		<p>Name:</p>
    	</div>
		<div class="icol2r">
      		<input type="text" name="recname" class="name" placeholder="Enter recipe title">
    	</div>
    </div>
    <div class="recipe_row">
    	<div class="icol1r">
    		<p>Ingredients</p>
    	</div>
    	<div class="icol15r">
    		<input type="button" class="button" value="Add" id="addingredient">
    	</div>
    	<div class="icol15r">
    		<input type="button" class="button" value="Remove" id="removeigredient">
    	</div>
    </div>
    {{#each (for get_ingredients_count)}}
      {{> recipe_ingredient}}
    {{/each}}
    <div class="recipe_row">
    	<div class="icol1r">
      		<p>Cooking Time:</p>
    	</div>
    	<div class="icol2r">
      		<input type="number" name="rec_time" min="1" class="counttime" placeholder="Enter cooking time">
    	</div>
	</div>
	<div class="recipe_row">
    	<div class="icol1r">
    		<p>Instructions</p>
    	</div>
    	<div class="icol15r">
    		<input type="button" class="button" value="Add" id="addinstruction">
    	</div>
    	<div class="icol15r">
    		<input type="button" class="button" value="Remove" id="removeinstruction">
    	</div>
    </div>
    {{#each (for get_instructions_count)}}
      {{> recipe_instruction}}
    {{/each}}
    <div class="recipe_row">
    	
    	<div id="recipe_bar">
    		<input type="button" class="button" value="Discard" id="discard_recipe">
			<input type="submit" class="button" value="Save" id="save_recipe">
    	
    		
		</div>

    </div>
    </form>
</template>

<template name="recipe_ingredient">
	<div class="recipe_row">
		<div class="icol3">
			<input type="number" name="rec_ingred_count" class="count" min="1" value="1">
		</div>
		<div class="icol1">
			<input type="text" name="rec_ingred" class="ingredient" placeholder="Enter ingredient">
		</div>
	</div>
</template>

<template name="recipe_instruction">
	<div class="recipe_row rows2">
		<div class="icol1">
			<textarea rows="3" name="rec_instruc" placeholder="Enter Instruction"></textarea>
		</div>
	</div>
</template>

<template name="recipe_entry">
	<div class = "color_row">
		<div class="recipe_row top_row">
			<div class="icol3">
				{{#if get_show}}
					<img class="arrow_down" src = "/images/arrow_down.png">
				{{else}}
					<img class="arrow_right" src = "/images/arrow_right.png">
				{{/if}}
			</div>
			<div class="icol1" >
				<p>{{name}}</p>
			</div>
		</div>
		{{#if get_show}}
			{{> recipe_inner}}
			<div class="recipe_row">
				<div id="recipe_bar">
					<input type="button" class="button" id="delete_recipe" value="Remove">
					<input type="button" class="button" id="cook_recipe" value="Cook it">
				</div>
			</div>
			{{#if get_show_delete}}
				<div class="recipe_row">
					<div class="icol25">
	      				<input type="button" class="delete_deny" value="Cancel Remove">
	    			</div>
	    			<div class="icol15">
	      				<input type="button" class="delete_confirm" value="Confirm remove">
	    			</div>
    			</div>
			{{/if}}
		{{/if}}
	</div>
</template>

<template name="recipe_inner">
	<div class="recipe_row sub_row">
		<div class="icol1r">
			<p class="bold" >Cooking Time : </p>
		</div>
		<div class="icol2r">
			<p>{{time}}</p>
		</div>
	</div>
	<div class="recipe_row sub_row">
		<div class="icol1">
			<p class="bold">Ingredients</p>
		</div>
	</div>
	{{#each recipe_ingredient_list this}}
		<div class="recipe_row sub2_row ">
			<div class="icol2">
				{{#if recipe_check_have_ingredient @index this.ingredient this.count}}
					 <p>{{this.count}}<img class="check_mark" src="/images/check.png"></p>
				{{else}}
					 <p>{{this.count}}<img class="x_mark" src="/images/x.png"></p>
				{{/if}}
			</div>
			<div class="icol1">
				<p>{{this.ingredient}}</p>
			</div>
		</div>
	{{/each}}
	<div class="recipe_row sub_row">
		<div class="icol1">
			<p class="bold">Instructions</p>
		</div> 
	</div>
	{{#each recipe_instruction_list this}}
		<div class="recipe_row sub2_row unrestricted">
			<div class="icol1r">
				<p class="bold">{{recipe_instruction_number @index}}) </p>
			</div>
			<div class="icol2r">
				<p class="unrestricted" >{{this}}</p>
			</div>
		</div>
	{{/each}}
</template>